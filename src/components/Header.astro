---
const { title, role, shortInfo, socialLinks, resumeLink, menu } = Astro.props;
import customizer from "./../customizer.json";
import { Icon } from "astro-icon";
import { getCollection, getEntry } from "astro:content";
// const allExperiences = await getCollection("experiences");
---

<div>
  <div class="space-y-4 max-w-xs">
    <h1 class={`lg:text-4xl font-bold tracking-tight text-5xl ${customizer.primaryText}`}>
      <a href="/">{title}</a>
    </h1>
    <h2 class={`lg:text-lg font-medium tracking-tight text-xl ${customizer.primaryText}`}>
      {role}
    </h2>
    <p>{shortInfo}</p>
  </div>
</div>

<!-- Nav -->
<nav class="flex-grow lg:flex items-center hidden" aria-label="In-page jump links">
  <ul class="w-max">
    {
      menu.map((link: { name: string; url: string }) => (
        <li>
          <a class="group flex items-center gap-2 py-3" href={link.url}>
            <span class="border border-current transition-all group-hover:w-16 group-focus-visible:w-16 w-8" />
            <strong class="text-xs tracking-widest">{link.name.toUpperCase()}</strong>
          </a>
        </li>
      ))
    }
  </ul>
</nav>

<div class="space-y-4">
  <!-- Resume Button -->
  {
    resumeLink ? (
      <p>
        <a
          href={resumeLink.url}
          class="inline-flex items-center gap-2 p-2 rounded border border-current"
        >
          <Icon name={resumeLink.icon} width="24" height="24" />
          <small>{resumeLink.name}</small>
        </a>
      </p>
    ) : (
      ""
    )
  }
  <!-- Social Links -->
  <div class="flex items-center gap-2" aria-label="Social media">
    {
      socialLinks.map(socialLink => (
        <a
          href={socialLink.url}
          title={`${socialLink.name} link`}
          class="opacity-50 hover:opacity-100 focus:opacity-100 transition-opacity duration-200 focus:outline-none"
        >
          <Icon name={socialLink.icon} width="32" height="32" />
        </a>
      ))
    }
  </div>
</div>
